<!-- templates/feedback_form_overview.html -->
{% extends "base.html" %}
{% block title %}Feedback Form Overview{% endblock %}
{% block content %}
<h2>Feedback Form Overview for Campaign: {{ campaign.name }}</h2>

<div class="card">
    <div class="card-body">
        <h5 class="card-title">Feedback Type:</h5>
        <p>{{ feedback_type }}</p>
    </div>
</div>

{% if feedback_type == 'docket_wise' %}
<div class="card mt-3">
    <div class="card-body">
        <h5 class="card-title">Docket Selection:</h5>
        {% if docket_option == 'one' %}
            <p>Feedback is for a single docket: <strong>{{ docket_name }}</strong></p>
        {% elif docket_option == 'many' %}
            <p>Feedback is for multiple dockets:</p>
            <ul>
                {% for docket in selected_dockets %}
                <li>{{ docket }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
</div>
{% endif %}

{% if feedback_type == 'service_wise' %}
<div class="card mt-3">
    <div class="card-body">
        <h5 class="card-title">Service Feedback Option:</h5>
        {% if service_option == 'one_docket' %}
            <p>Feedback is for a single docket: <strong>{{ docket_name }}</strong></p>
        {% elif service_option == 'all_dockets' %}
            <p>Feedback is for all dockets in the department.</p>
        {% endif %}
    </div>
</div>
{% endif %}

{% if feedback_type == 'general_wise' %}
<div class="card mt-3">
    <div class="card-body">
        <h5 class="card-title">General Feedback:</h5>
        <p>This feedback form will only include open-ended and optional closed-ended questions.</p>
    </div>
</div>
{% endif %}

<div class="card mt-3">
    <div class="card-body">
        <h5 class="card-title">Questions:</h5>
        <ul>
            {% for question in questions %}
            <li>{{ question.text }} (Type: {{ question.type }})</li>
            {% endfor %}
        </ul>
        <a href="{{ url_for('edit_questions', campaign_id=campaign.id) }}" class="btn btn-secondary">Edit Questions</a>
    </div>
</div>

<form method="POST" action="{{ url_for('finalize_feedback_form', campaign_id=campaign.id) }}">
    <div class="mt-4">
        <button type="submit" class="btn btn-success">Finalize and Generate Feedback Form</button>
        <a href="{{ url_for('create_feedback_form', campaign_id=campaign.id) }}" class="btn btn-danger">Go Back and Edit</a>
    </div>
</form>
{% endblock %}